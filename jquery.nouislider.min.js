(function(a){a.fn.noUiSlider=function(b,c){function e(a){var b=new Array;a.find(".noUi_handle.noUi_lowerHandle").length?(b[0]=parseInt(a.find(".noUi_handle.noUi_lowerHandle").css("left")),isNaN(b[0])&&(b[0]=0)):b[0]=0,a.find(".noUi_handle.noUi_upperHandle").length?(b[1]=parseInt(a.css("width"))-parseInt(a.find(".noUi_handle.noUi_upperHandle").css("left")),isNaN(b[1])&&(b[1]="100%")):b[1]=0,a.find(".noUi_midBar").css({left:b[0],right:b[1]})}function f(a,b,c,d){var e=parseInt(a.css("width")),f=parseInt(c.css("width"));return d||(d=[0,100]),e/(d[1]-d[0])*(parseFloat(b)-d[0])-f/2}function g(a,b,c){var d=parseInt(a.css("width")),e=parseInt(b.css("width"));c||(c=[0,100]);var f=b.css("left");f=="auto"&&(f=0);var g=parseInt(f)+e/2;return g/=d/(c[1]-c[0]),g+=c[0],g}var d={bar:!0,dontActivate:"",scale:"",startMin:"25",startMax:"75",scaleType:"linear",point:"",saveScale:!1,moveStyle:"",setTo:"",change:"",callback:"",knobRelease:"",tracker:"",clickmove:""},h={init:function(){var g=a('<style title="tempNoUiSlider">.temp-show{position:absolute !important; visibility:hidden !important; display:block !important;}.autoWidth{width:auto !important;}</style>');return a("html > head").append(g),this.each(function(){!d.knobRelease&&d.callBack&&(d.knobRelease=d.callBack);if(d.scaleType=="log"){var b=function(a){return a>1?Math.log(a)/Math.LN10*10:a};d.startMin=b(d.startMin),d.startMax=b(d.startMax),d.scale&&(d.scale[0]=b(d.scale[0]),d.scale[1]=b(d.scale[1])),d.startMin=b(d.startMin),a(this).data("scaleType","log")}var g=a(this);!g.is(":visible")&&g.css("width").indexOf("%")!=-1&&a.error("Placing a percentage sized slider in a hidden element will cause trouble!");var h=parseInt(g.css("width"));a.event.props=a.event.props.join("|").replace("layerX|layerY|","").split("|"),a(this).css("position","relative"),d.dontActivate.toLowerCase()!="lower"&&a(this).append('<div class="noUi_handle noUi_lowerHandle"><div class="noUi_sliderKnob"></div></div>'),d.bar&&d.bar!="off"&&a(this).append('<div class="noUi_midBar"></div>'),d.dontActivate.toLowerCase()!="upper"&&a(this).append('<div class="noUi_handle noUi_upperHandle"><div class="noUi_sliderKnob"></div></div>'),a(this).data("activated",[g.find(".noUi_handle.noUi_lowerHandle").length,g.find(".noUi_handle.noUi_upperHandle").length]),a(this).children().css("position","absolute"),a(this).data("change",c.change),a(this).find(".noUi_midBar").css({left:0,right:0}),d.scale&&a(this).data("scale",d.scale);var i=a(this).find(".noUi_sliderKnob");i.each(function(){var b=a(this).parent(".noUi_handle");b.hasClass("noUi_lowerHandle")&&(d.startMin||d.startMin===0)&&(typeof d.startMin=="string"&&d.startMin.indexOf("%")!=-1?b.css("left",f(g,d.startMin,b)):b.css("left",f(g,d.startMin,b,d.scale))),b.hasClass("noUi_upperHandle")&&d.startMax&&(typeof d.startMax=="string"&&d.startMax.indexOf("%")!=-1?b.css("left",f(g,d.startMax,b)):b.css("left",f(g,d.startMax,b,d.scale)))}),d.bar&&d.bar!="off"&&e(g),i.bind("mousedown.noUiSlider",function(b){b.preventDefault(),a("body").bind("selectstart.noUiSlider",function(a){return!1}),a(this).addClass("noUi_activeHandle");var f=a(this).parent(".noUi_handle"),j=g.data("activated")[0]&&g.data("activated")[1];a(document).bind("mousemove.noUiSlider",function(a){var b=parseInt(f.css("width")),i=a.pageX-g.offset().left;if(f.hasClass("noUi_lowerHandle")||!j){i<-1*(parseInt(f.css("width"))/2)&&(i=-1*(parseInt(f.css("width"))/2));if(j){var k=parseInt(f.parent().find(".noUi_upperHandle").css("left"))-b;i>k&&(i=k)}}if(f.hasClass("noUi_upperHandle")||!j){h=parseInt(g.css("width"));var l=h-b/2;i>l&&(i=l);if(j){var k=parseInt(f.parent().find(".noUi_lowerHandle").css("left"))+b;i<k&&(i=k)}}f.css({left:i}),d.bar&&d.bar!="off"&&e(g),typeof c.tracker=="function"&&c.tracker.call(this)}),a(document).bind("mouseup.noUiSlider",function(){a(this).unbind("mousemove.noUiSlider"),i.removeClass("noUi_activeHandle"),a("body").unbind("selectstart.noUiSlider"),typeof c.knobRelease=="function"&&c.knobRelease.call(g),typeof c.change=="function"&&c.change.call(g),a(this).unbind("mouseup.noUiSlider")})}),a(this).bind("click.noUiSlider",function(b){var f=b.pageX,h=a(this).offset().left;if(a(this).data("activated")[0]&&a(this).data("activated")[1]){var i=a(this).children(".noUi_lowerHandle").offset().left,j=a(this).children(".noUi_upperHandle").offset().left,k=(i+j)/2;f>k?a(this).children(".noUi_upperHandle").css("left",f-h):a(this).children(".noUi_lowerHandle").css("left",f-h)}else a(this).data("activated")[0]&&a(this).children(".noUi_lowerHandle").css("left",f-h),a(this).data("activated")[1]&&a(this).children(".noUi_upperHandle").css("left",f-h);d.bar&&d.bar!="off"&&e(g),typeof c.clickmove=="function"&&c.clickmove.call(this),typeof c.change=="function"&&c.change.call(this),b.stopPropagation()}).children().not(".noUi_midBar").click(function(a){return!1})})},move:function(){var c=a(this),g=!1;d.point||(a(this).data("activated")[0]&&a(this).data("activated")[1]?g=!0:(a(this).data("activated")[0]&&(d.point=0),a(this).data("activated")[1]&&(d.point=1))),a(this).data("scaleType")=="log"&&(a.each(d.setTo,function(a,b){d.setTo[a]=b==0?0:Math.round(Math.log(b)/Math.LN10*10)}),a.each(d.scale,function(a,b){d.setTo[a]=b==0?0:Math.round(Math.log(b)/Math.LN10*10)})),d.saveScale&&a(this).data("scale",d.scale),d.scale||(a(this).data("scale")?d.scale=a(this).data("scale"):d.scale=[0,100]);if(typeof d.setTo!="object"){if(d.point=="lower"||d.point==0)d.setTo=[d.setTo,0];if(d.point=="upper"||d.point==1)d.setTo=[0,d.setTo]}var h=d.scale,i=d.setTo;if((typeof i[0]=="undefined"||i[0]>=h[0]&&i[0]<=h[1])&&(typeof i[1]=="undefined"||i[1]<=h[1]&&i[1]>=h[0])){if(a(this).data("activated")[0]&&a(this).data("activated")[1]){var j=d.point;d.point="array";var k=a(this).noUiSlider("getValue",{point:"array"});i[0]=typeof i[0]=="undefined"?k[0]:i[0],i[1]=typeof i[1]=="undefined"?k[1]:i[1],d.point=j;if(i[0]>i[1])return!1}if(d.point=="lower"||d.point==0||g){var l=a(this).find(".noUi_lowerHandle"),m=f(c,d.setTo[0],l,d.scale);if(d.moveStyle=="animate"){var n=this;this.data("lowerAnnimTo",d.setTo[0]),l.animate({left:m},{step:function(){d.bar&&d.bar!="off"&&e(c)},complete:function(){n.removeData("lowerAnnimTo")}})}else l.css("left",m)}if(d.point=="upper"||d.point==1||g){var o=a(this).find(".noUi_upperHandle"),p=f(c,d.setTo[1],o,d.scale);if(d.moveStyle=="animate"){var n=this;this.data("upperAnnimTo",d.setTo[1]),o.animate({left:p},{step:function(){d.bar&&d.bar!="off"&&e(c)},complete:function(){n.removeData("upperAnnimTo")}})}else o.css("left",p)}var q=a(this).data("change");return d.bar&&d.bar!="off"&&e(c),typeof q=="function"&&q.call(this),!0}return!1},reset:function(){},getValue:function(){d.point||(d.point="array"),d.scale||(a(this).data("scale")=="undefined"?d.scale=[0,100]:d.scale=a(this).data("scale")),returnA=new Array,a(this).data("activated")[0]&&(typeof a(this).data("lowerAnnimTo")!="undefined"?returnA.push(a(this).data("lowerAnnimTo")):returnA.push(g(a(this),a(this).find(".noUi_lowerHandle"),d.scale))),a(this).data("activated")[1]&&(typeof a(this).data("upperAnnimTo")!="undefined"?returnA.push(a(this).data("upperAnnimTo")):returnA.push(g(a(this),a(this).find(".noUi_upperHandle"),d.scale)));if(a(this).data("scaleType")=="log"){if(!isNaN(returnA[0])&&returnA[0]>1){var c=Math.pow(10,Math.floor(returnA[0]/10));returnA[0]=Math.round(Math.pow(10,returnA[0]/10)/c)*c}if(!isNaN(returnA[1])&&returnA[1]>1){var c=Math.pow(10,Math.floor(returnA[1]/10));returnA[1]=Math.round(Math.pow(10,returnA[1]/10)/c)*c}}if(d.point=="lower"||d.point==0)return returnA[0];if(d.point=="upper"||d.point==1)return returnA[1];if(d.point=="array")return returnA}},c=a.extend(d,c);if(h[b])return h[b].apply(this,Array.prototype.slice.call(arguments,1));if(typeof b=="object"||!b)return h.init.apply(this,arguments);a.error("Method "+b+" does not exist on jQuery.noUiSlider")}})(jQuery)
